$(document).ready(function(){$("#signActa").on("click",function(){$(".spinner-block").removeClass("d-none"),$.ajax({url:$(this).attr("data-sign-url"),type:"POST",success:function(n){window.location.reload()},error:function(){window.location.reload()}})}),$("#cancelSignatura").on("click",function(){if(!confirm("Estàs segur que vols cancel·lar la signatura? Això permetrà modificar l'acta i tornar-la a enviar a signar."))return!1;$(".spinner-block").removeClass("d-none"),$.ajax({url:$(this).attr("data-cancel-url"),type:"POST",success:function(n){window.location.reload()},error:function(){window.location.reload()}})}),$("#send-sign-btn").click(function(){$("#previewDocModal").modal("hide");var n={};$("input:checked").each(function(){n[this.name]=this.value}),$(".spinner-block").removeClass("d-none"),$.ajax({url:"uploadFiles",type:"POST",data:n,contentType:"application/x-www-form-urlencoded; charset=utf-8"}).then(()=>window.location.reload())});var n=$("#previewDocBtn");function o(n=!1){var e=0<$("input:checked").length;n?$(".btn-send-confirm").toggle(e):$(".btn-send-confirm").prop("disabled",!e)}n.length&&n.on("click",function(n){n.preventDefault();n=$("#previewDocModal");bootstrap.Modal.getOrCreateInstance(n).show()}),o(!0),$(".form-check-input").change(function(){var n=$(this).attr("name").substring(6),e=$(this).is(":checked");$("#"+n).toggle(e);let t=e;function i(){if($('.form-check-input[name="check:'+this.id+'"]').is(":checked"))return!(t=!0)}t||$("#"+n).siblings(".filesinTable").each(i),t?$("#"+n).parents("ol.li_subgrups").removeAttr("style"):$("#"+n).parents("ol.li_subgrups").attr("style","display:none !important"),$("#"+n).parents(".listFiles").parent().toggle(t);let a=$("#"+n).parents(".container-subpunts").siblings(".puntTitle");0==a.length&&(a=$("#"+n).parents(".puntTitle")),t||a.siblings(".container-subpunts").children("ol.li_subgrups").find(".filesinTable").each(i),t||a.find(".filesinTable").each(i),a.parents("li").toggle(t),o()}),$("#send-sign-btn").click(function(){$("#send-confirmation").modal("hide");var n={};$("input:checked").each(function(){n[this.name]=this.value}),$(".spinner-block").removeClass("d-none"),$.ajax({url:"uploadFiles",type:"POST",data:n,contentType:"application/x-www-form-urlencoded; charset=utf-8"}).then(()=>window.location.reload())})});